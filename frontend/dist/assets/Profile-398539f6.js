import{r as a,u as v,z as y,j as e,m as c}from"./index-8cd23c11.js";import{c as C}from"./cards-86624514.js";import{L as k}from"./LoadingSpinner-9af0e7b2.js";import{U as u,E}from"./UserIcon-f6159de5.js";import{P as L}from"./PhoneIcon-faa230c0.js";import{C as A}from"./ChartBarIcon-4bb0bddb.js";import{E as b}from"./EyeIcon-02704138.js";import{H as j}from"./HeartIcon-61eeb04d.js";function V({title:s,titleId:l,...n},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const D=a.forwardRef(V),m=D,Z=()=>{var h;const{user:s}=v(),[l,n]=a.useState([]),[i,p]=a.useState({totalCards:0,totalViews:0,totalLikes:0,joinDate:""}),[f,x]=a.useState(!0);a.useEffect(()=>{s&&g()},[s]);const g=async()=>{try{x(!0);const r=(await C.getMyCards()).cards||[];n(r.slice(0,3));const N=r.reduce((o,d)=>o+(d.views||0),0),w=r.reduce((o,d)=>o+(d.likes||0),0);p({totalCards:r.length,totalViews:N,totalLikes:w,joinDate:s.createdAt?new Date(s.createdAt).toLocaleDateString("fr-FR"):"N/A"})}catch{y.error("Erreur lors du chargement des données")}finally{x(!1)}};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsx(k,{preset:"page"})}):s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Mon Profil"}),e.jsx("p",{className:"text-white/70 text-lg",children:"Consultez vos informations et vos statistiques"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(h=s.image)!=null&&h.url?e.jsx("img",{src:s.image.url,alt:s.image.alt||"Avatar",className:"w-full h-full rounded-full object-cover"}):e.jsx(u,{className:"w-12 h-12 text-white"})}),e.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-white/70 capitalize",children:s.role==="business"?"Professionnel":s.role==="admin"?"Administrateur":"Utilisateur"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-white/80",children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-3 text-white/80",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:s.phone})]}),e.jsxs("div",{className:"flex items-center gap-3 text-white/80",children:[e.jsx(u,{className:"w-5 h-5"}),e.jsxs("span",{className:"text-sm",children:["Membre depuis ",i.joinDate]})]})]})]})}),e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(A,{className:"w-6 h-6"}),"Statistiques"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-blue-500/20 border border-blue-500/30 rounded-xl flex items-center justify-center",children:e.jsx(m,{className:"w-8 h-8 text-blue-400"})}),e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:i.totalCards}),e.jsx("div",{className:"text-white/70 text-sm",children:"Cartes créées"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-green-500/20 border border-green-500/30 rounded-xl flex items-center justify-center",children:e.jsx(b,{className:"w-8 h-8 text-green-400"})}),e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:i.totalViews}),e.jsx("div",{className:"text-white/70 text-sm",children:"Vues totales"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-red-500/20 border border-red-500/30 rounded-xl flex items-center justify-center",children:e.jsx(j,{className:"w-8 h-8 text-red-400"})}),e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:i.totalLikes}),e.jsx("div",{className:"text-white/70 text-sm",children:"J'aime reçus"})]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(m,{className:"w-6 h-6"}),"Mes Dernières Cartes"]}),e.jsx("a",{href:"/my-cards",className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"Voir toutes"})]}),l.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(t=>{var r;return e.jsxs(c.div,{whileHover:{scale:1.02},className:"bg-white/5 border border-white/10 rounded-xl p-4 hover:bg-white/10 transition-all cursor-pointer",onClick:()=>window.location.href=`/card/${t._id}`,children:[((r=t.image)==null?void 0:r.url)&&e.jsx("img",{src:t.image.url,alt:t.image.alt,className:"w-full h-32 object-cover rounded-lg mb-3"}),e.jsx("h4",{className:"text-white font-semibold mb-1 truncate",children:t.title}),e.jsx("p",{className:"text-white/70 text-sm mb-2 truncate",children:t.subtitle}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-white/50",children:[e.jsx("span",{className:"bg-blue-500/20 px-2 py-1 rounded",children:t.category}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"w-3 h-3"}),t.views||0]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-3 h-3"}),t.likes||0]})]})]})]},t._id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(m,{className:"w-16 h-16 mx-auto mb-4 text-white/30"}),e.jsx("h4",{className:"text-white/70 text-lg mb-2",children:"Aucune carte créée"}),e.jsx("p",{className:"text-white/50 mb-4",children:"Commencez par créer votre première carte de visite"}),e.jsx("a",{href:"/create-card",className:"inline-flex items-center px-6 py-3 bg-blue-500/30 hover:bg-blue-500/40 border border-blue-500/50 rounded-xl text-white font-medium transition-all duration-300 hover:scale-105",children:"Créer une carte"})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Accès non autorisé"}),e.jsx("p",{children:"Veuillez vous connecter pour voir votre profil."})]})})};export{Z as default};
//# sourceMappingURL=Profile-398539f6.js.map
