import{u as q,j as e,m as a,d as D,r as y,L as u}from"./index-8cd23c11.js";import{u as O,a as I,G as t,B as c}from"./ButtonGlass-c1e0641f.js";import{a as E}from"./axios-92e9fcdb.js";const P=()=>q(),J=({size:n="md",color:i="primary",text:d="",className:l=""})=>{const x={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},m={primary:"border-primary-400",secondary:"border-secondary-400",accent:"border-accent-400",white:"border-white"};return e.jsxs("div",{className:`flex flex-col items-center justify-center ${l}`,children:[e.jsx(a.div,{className:`${x[n]} border-2 ${m[i]} border-t-transparent rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),d&&e.jsx(a.p,{className:"mt-2 text-sm text-white/70",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:d})]})},Y=()=>{var v,g,w,k,$,C,M,L,F,A,_,B,S,T;const{id:n}=D(),{user:i}=P(),{execute:d}=O(),[l,x]=y.useState(!1),[m,f]=y.useState(!1),{data:j,loading:G,error:b}=I(`/cards/${n}`),{data:o,loading:N}=I(i&&n?`/favorites/check/${n}`:null),s=j==null?void 0:j.data;y.useEffect(()=>{o!=null&&o.data&&x(o.data.isFavorite)},[o]);const H=async()=>{if(!i)return;f(!0),(await d(async()=>(await E.post(`/favorites/toggle/${n}`)).data)).success&&x(!l),f(!1)},V=async()=>{i&&await d(async()=>(await E.post(`/cards/${n}/like`)).data)},R=r=>{if(!r)return null;const h=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],U=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return h.map((z,W)=>{const p=r[z];return p?e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-white/70",children:U[W]}),e.jsx("span",{className:"text-white",children:p.closed?"Closed":`${p.open} - ${p.close}`})]},z):null})};return G?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(J,{size:"lg",text:"Loading business details..."})}):b||!s?e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsxs(t,{className:"text-center max-w-md",children:[e.jsx("div",{className:"text-red-400 mb-4",children:"âš ï¸"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Business Not Found"}),e.jsx("p",{className:"text-white/70 mb-4",children:b||"The business card you are looking for does not exist."}),e.jsx(u,{to:"/cards",children:e.jsx(c,{variant:"primary",children:"Browse All Cards"})})]})}):e.jsx("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative mb-8",children:e.jsxs("div",{className:"relative h-64 md:h-80 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:((v=s.image)==null?void 0:v.url)||"/default-card-image.jpg",alt:((g=s.image)==null?void 0:g.alt)||s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between",children:[e.jsxs("div",{className:"mb-4 md:mb-0",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-2",children:s.title}),e.jsx("p",{className:"text-xl text-white/90 mb-2",children:s.subtitle}),e.jsxs("div",{className:"flex items-center space-x-4 text-white/70",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-1",children:"ğŸ“"}),(w=s.address)==null?void 0:w.city,", ",(k=s.address)==null?void 0:k.country]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-1",children:"ğŸ·ï¸"}),s.category]})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:i&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{variant:l?"danger":"ghost",onClick:H,loading:m||N,disabled:m||N,children:[l?"â¤ï¸":"ğŸ¤",l?"Favorited":"Add to Favorites"]}),e.jsx(c,{variant:"ghost",onClick:V,children:"ğŸ‘ Like"})]})})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(t,{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"About"}),e.jsx("p",{className:"text-white/80 leading-relaxed",children:s.description})]})}),s.tags&&s.tags.length>0&&e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(t,{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((r,h)=>e.jsx("span",{className:"px-3 py-1 bg-primary-500/20 text-primary-300 rounded-full border border-primary-400/30",children:r},h))})]})}),s.businessHours&&e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(t,{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Business Hours"}),e.jsx("div",{className:"space-y-2",children:R(s.businessHours)})]})}),s.socialMedia&&Object.values(s.socialMedia).some(r=>r)&&e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs(t,{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Follow Us"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.socialMedia.facebook&&e.jsxs("a",{href:s.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600/20 text-blue-300 rounded-lg border border-blue-400/30 hover:bg-blue-600/30 transition-colors",children:[e.jsx("span",{children:"ğŸ“˜"}),e.jsx("span",{children:"Facebook"})]}),s.socialMedia.twitter&&e.jsxs("a",{href:s.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-sky-500/20 text-sky-300 rounded-lg border border-sky-400/30 hover:bg-sky-500/30 transition-colors",children:[e.jsx("span",{children:"ğŸ¦"}),e.jsx("span",{children:"Twitter"})]}),s.socialMedia.linkedin&&e.jsxs("a",{href:s.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-blue-700/20 text-blue-300 rounded-lg border border-blue-400/30 hover:bg-blue-700/30 transition-colors",children:[e.jsx("span",{children:"ğŸ’¼"}),e.jsx("span",{children:"LinkedIn"})]}),s.socialMedia.instagram&&e.jsxs("a",{href:s.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-pink-600/20 text-pink-300 rounded-lg border border-pink-400/30 hover:bg-pink-600/30 transition-colors",children:[e.jsx("span",{children:"ğŸ“·"}),e.jsx("span",{children:"Instagram"})]})]})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(t,{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Contact Info"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-primary-400",children:"ğŸ“"}),e.jsx("a",{href:`tel:${s.phone}`,className:"text-white hover:text-primary-300 transition-colors",children:s.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-primary-400",children:"âœ‰ï¸"}),e.jsx("a",{href:`mailto:${s.email}`,className:"text-white hover:text-primary-300 transition-colors",children:s.email})]}),s.web&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-primary-400",children:"ğŸŒ"}),e.jsx("a",{href:s.web,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-primary-300 transition-colors",children:"Visit Website"})]})]})]})}),e.jsx(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsxs(t,{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Address"}),e.jsxs("div",{className:"text-white/80 space-y-1",children:[e.jsxs("div",{children:[($=s.address)==null?void 0:$.houseNumber," ",(C=s.address)==null?void 0:C.street]}),e.jsxs("div",{children:[(M=s.address)==null?void 0:M.city,", ",(L=s.address)==null?void 0:L.state]}),e.jsxs("div",{children:[(F=s.address)==null?void 0:F.country," ",(A=s.address)==null?void 0:A.zip]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:`https://maps.google.com/?q=${encodeURIComponent(`${(_=s.address)==null?void 0:_.houseNumber} ${(B=s.address)==null?void 0:B.street}, ${(S=s.address)==null?void 0:S.city}, ${(T=s.address)==null?void 0:T.country}`)}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(c,{variant:"secondary",size:"sm",className:"w-full",children:"ğŸ“ View on Map"})})})]})}),e.jsx(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:e.jsxs(t,{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/70",children:"Likes"}),e.jsxs("span",{className:"text-white font-semibold",children:["â¤ï¸ ",s.likesCount||0]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/70",children:"Views"}),e.jsxs("span",{className:"text-white font-semibold",children:["ğŸ‘ï¸ ",s.viewsCount||0]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/70",children:"Created"}),e.jsx("span",{className:"text-white font-semibold",children:new Date(s.createdAt).toLocaleDateString()})]})]})]})}),i&&s.user&&i._id===s.user._id&&e.jsx(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:e.jsxs(t,{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Manage Card"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(u,{to:`/edit-card/${s._id}`,children:e.jsx(c,{variant:"primary",size:"sm",className:"w-full",children:"âœï¸ Edit Card"})}),e.jsx(u,{to:"/my-cards",children:e.jsx(c,{variant:"ghost",size:"sm",className:"w-full",children:"ğŸ“‹ My Cards"})})]})]})})]})]})]})})};export{Y as default};
//# sourceMappingURL=BusinessDetails-2cc9b441.js.map
