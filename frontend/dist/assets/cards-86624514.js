import{e as n}from"./index-8cd23c11.js";const t=n.create({baseURL:"https://your-api-domain.com/api/cards",headers:{"Content-Type":"application/json"}});t.interceptors.request.use(s=>{const r=localStorage.getItem("token");return r&&(s.headers.Authorization=`Bearer ${r}`),s},s=>Promise.reject(s));t.interceptors.response.use(s=>s,s=>{var r;return((r=s.response)==null?void 0:r.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login"),Promise.reject(s)});const d={getAll:async(s={})=>{var r,e;try{return(await t.get("/",{params:s})).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Erreur lors de la récupération des cartes")}},getById:async s=>{var r,e;try{return(await t.get(`/${s}`)).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Carte introuvable")}},getMy:async()=>{var s,r;try{return(await t.get("/my-cards")).data}catch(e){throw new Error(((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||"Erreur lors de la récupération de vos cartes")}},create:async s=>{var r,e;try{return(await t.post("/",s)).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Erreur lors de la création de la carte")}},update:async(s,r)=>{var e,a;try{return(await t.put(`/${s}`,r)).data}catch(o){throw new Error(((a=(e=o.response)==null?void 0:e.data)==null?void 0:a.message)||"Erreur lors de la mise à jour de la carte")}},delete:async s=>{var r,e;try{return(await t.delete(`/${s}`)).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Erreur lors de la suppression de la carte")}},toggleLike:async s=>{var r,e;try{return(await t.patch(`/${s}/like`)).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Erreur lors de la mise à jour du like")}},search:async(s,r={})=>{var e,a;try{const o={q:s,...r};return(await t.get("/search",{params:o})).data}catch(o){throw new Error(((a=(e=o.response)==null?void 0:e.data)==null?void 0:a.message)||"Erreur lors de la recherche")}},getByCategory:async s=>{var r,e;try{return(await t.get("/category",{params:{category:s}})).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Erreur lors de la récupération par catégorie")}},getPopular:async(s=10)=>{var r,e;try{return(await t.get("/popular",{params:{limit:s}})).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Erreur lors de la récupération des cartes populaires")}},getRecent:async(s=10)=>{var r,e;try{return(await t.get("/recent",{params:{limit:s}})).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Erreur lors de la récupération des cartes récentes")}},updateStatus:async(s,r)=>{var e,a;try{return(await t.patch(`/${s}/status`,{status:r})).data}catch(o){throw new Error(((a=(e=o.response)==null?void 0:e.data)==null?void 0:a.message)||"Erreur lors de la mise à jour du statut")}},getStats:async s=>{var r,e;try{return(await t.get(`/${s}/stats`)).data}catch(a){throw new Error(((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"Erreur lors de la récupération des statistiques")}}};export{d as c};
//# sourceMappingURL=cards-86624514.js.map
