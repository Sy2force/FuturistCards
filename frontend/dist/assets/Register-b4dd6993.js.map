{"version":3,"file":"Register-b4dd6993.js","sources":["../../src/pages/Register.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport toast from 'react-hot-toast';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    role: 'user'\n  });\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const { register } = useAuth();\n  const navigate = useNavigate();\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.firstName.trim()) {\n      newErrors.firstName = 'requis';\n    } else if (formData.firstName.length < 2) {\n      newErrors.firstName = 'Minimum 2 caractères';\n    }\n    \n    if (!formData.lastName.trim()) {\n      newErrors.lastName = 'requis';\n    } else if (formData.lastName.length < 2) {\n      newErrors.lastName = 'Minimum 2 caractères';\n    }\n    \n    if (!formData.email.trim()) {\n      newErrors.email = 'requis';\n    }\n    \n    if (!formData.password) {\n      newErrors.password = 'requis';\n    }\n    \n    if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = 'Mots de passe différents';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      toast.error('Veuillez corriger les erreurs');\n      return;\n    }\n    \n    try {\n      const userData = {\n        firstName: formData.firstName.trim(),\n        lastName: formData.lastName.trim(),\n        email: formData.email.toLowerCase().trim(),\n        password: formData.password,\n        role: formData.role\n      };\n      \n      await register(userData);\n      navigate('/');\n    } catch (error) {\n      // console.error('Registration error:', error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4\">\n      <div className=\"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-8 w-full max-w-md shadow-2xl\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 bg-clip-text text-transparent mb-2\">\n            Inscription\n          </h1>\n          <p className=\"text-white/70\">Créez votre compte FuturistCards</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-white/80 mb-2\">\n                Prénom\n              </label>\n              <input\n                type=\"text\"\n                name=\"firstName\"\n                value={formData.firstName}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200\"\n                placeholder=\"Prénom\"\n                required\n              />\n              {errors.firstName && (\n                <span className=\"text-red-400 text-sm mt-1\" data-testid=\"error-requis\">\n                  {errors.firstName}\n                </span>\n              )}\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-white/80 mb-2\">\n                Nom\n              </label>\n              <input\n                type=\"text\"\n                name=\"lastName\"\n                value={formData.lastName}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200\"\n                placeholder=\"Nom\"\n                required\n              />\n              {errors.lastName && (\n                <span className=\"text-red-400 text-sm mt-1\" data-testid=\"error-requis\">\n                  {errors.lastName}\n                </span>\n              )}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleInputChange}\n              className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200\"\n              placeholder=\"votre@email.com\"\n              required\n            />\n            {errors.email && (\n              <span className=\"text-red-400 text-sm mt-1\" data-testid=\"error-requis\">\n                {errors.email}\n              </span>\n            )}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">\n              Mot de passe\n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleInputChange}\n              className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200\"\n              placeholder=\"Mot de passe\"\n              required\n            />\n            {errors.password && (\n              <span className=\"text-red-400 text-sm mt-1\" data-testid=\"error-requis\">\n                {errors.password}\n              </span>\n            )}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">\n              Confirmer le mot de passe\n            </label>\n            <input\n              type=\"password\"\n              name=\"confirmPassword\"\n              value={formData.confirmPassword}\n              onChange={handleInputChange}\n              className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200\"\n              placeholder=\"Confirmer le mot de passe\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">\n              Type de compte\n            </label>\n            <select\n              name=\"role\"\n              value={formData.role}\n              onChange={handleInputChange}\n              className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200\"\n              required\n            >\n              <option value=\"user\" className=\"bg-gray-800 text-white\">User</option>\n              <option value=\"business\" className=\"bg-gray-800 text-white\">Entreprise</option>\n            </select>\n            {errors.role && (\n              <span className=\"text-red-400 text-sm mt-1\" data-testid=\"error-requis\">\n                {errors.role}\n              </span>\n            )}\n          </div>\n\n          <button\n            type=\"submit\"\n            className=\"w-full bg-green-500/30 hover:bg-green-500/40 border border-green-500/50 rounded-lg px-6 py-3 text-white font-medium transition-all duration-300 hover:scale-105\"\n          >\n            S'inscrire\n          </button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-white/60\">\n            Don&apos;t have an account?{' '}\n            <Link \n              to=\"/login\" \n              className=\"text-blue-400 hover:text-blue-300 transition-colors\"\n            >\n              Se connecter\n            </Link>\n          </p>\n          <Link \n            to=\"/\" \n            className=\"inline-block mt-4 text-white/60 hover:text-white/80 transition-colors\"\n          >\n            ← Retour à l'accueil\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"names":["Register","formData","setFormData","useState","errors","setErrors","register","useAuth","navigate","useNavigate","validateForm","newErrors","handleInputChange","e","name","value","type","checked","prev","handleSubmit","toast","userData","jsxs","jsx","Link"],"mappings":"2EAKA,MAAMA,EAAW,IAAM,CACrB,KAAM,CAACC,EAAUC,CAAW,EAAIC,WAAS,CACvC,UAAW,GACX,SAAU,GACV,MAAO,GACP,SAAU,GACV,gBAAiB,GACjB,KAAM,MAAA,CACP,EACK,CAACC,EAAQC,CAAS,EAAIF,EAAA,SAAS,CAAE,CAAA,EACTA,EAAAA,SAAS,EAAK,EACtC,KAAA,CAAE,SAAAG,GAAaC,IACfC,EAAWC,IAEXC,EAAe,IAAM,CACzB,MAAMC,EAAY,CAAA,EAElB,OAAKV,EAAS,UAAU,OAEbA,EAAS,UAAU,OAAS,IACrCU,EAAU,UAAY,wBAFtBA,EAAU,UAAY,SAKnBV,EAAS,SAAS,OAEZA,EAAS,SAAS,OAAS,IACpCU,EAAU,SAAW,wBAFrBA,EAAU,SAAW,SAKlBV,EAAS,MAAM,SAClBU,EAAU,MAAQ,UAGfV,EAAS,WACZU,EAAU,SAAW,UAGnBV,EAAS,WAAaA,EAAS,kBACjCU,EAAU,gBAAkB,4BAG9BN,EAAUM,CAAS,EACZ,OAAO,KAAKA,CAAS,EAAE,SAAW,CAAA,EAGrCC,EAAqBC,GAAM,CAC/B,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,KAAAC,EAAM,QAAAC,GAAYJ,EAAE,OACzCX,EAAqBgB,IAAA,CACnB,GAAGA,EACH,CAACJ,CAAI,EAAGE,IAAS,WAAaC,EAAUF,CACxC,EAAA,EAGEX,EAAOU,CAAI,GACbT,EAAmBa,IAAA,CACjB,GAAGA,EACH,CAACJ,CAAI,EAAG,EACR,EAAA,CACJ,EAGIK,EAAe,MAAON,GAAM,CAG5B,GAFJA,EAAE,eAAe,EAEb,CAACH,IAAgB,CACnBU,EAAM,MAAM,+BAA+B,EAC3C,MACF,CAEI,GAAA,CACF,MAAMC,EAAW,CACf,UAAWpB,EAAS,UAAU,KAAK,EACnC,SAAUA,EAAS,SAAS,KAAK,EACjC,MAAOA,EAAS,MAAM,YAAA,EAAc,KAAK,EACzC,SAAUA,EAAS,SACnB,KAAMA,EAAS,IAAA,EAGjB,MAAMK,EAASe,CAAQ,EACvBb,EAAS,GAAG,OACE,CAEhB,CAAA,EAGF,aACG,MAAI,CAAA,UAAU,iHACb,SAACc,EAAA,KAAA,MAAA,CAAI,UAAU,iGACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,mHAAmH,SAEjI,cAAA,EACCA,EAAA,IAAA,IAAA,CAAE,UAAU,gBAAgB,SAAgC,mCAAA,CAAA,EAC/D,EAECD,EAAA,KAAA,OAAA,CAAK,SAAUH,EAAc,UAAU,YACtC,SAAA,CAACG,EAAAA,KAAA,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACC,EAAA,IAAA,QAAA,CAAM,UAAU,+CAA+C,SAEhE,SAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,OACL,KAAK,YACL,MAAOtB,EAAS,UAChB,SAAUW,EACV,UAAU,0MACV,YAAY,SACZ,SAAQ,EAAA,CACV,EACCR,EAAO,WACLmB,MAAA,OAAA,CAAK,UAAU,4BAA4B,cAAY,eACrD,SAAAnB,EAAO,SACV,CAAA,CAAA,EAEJ,SACC,MACC,CAAA,SAAA,CAACmB,EAAA,IAAA,QAAA,CAAM,UAAU,+CAA+C,SAEhE,MAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,OACL,KAAK,WACL,MAAOtB,EAAS,SAChB,SAAUW,EACV,UAAU,0MACV,YAAY,MACZ,SAAQ,EAAA,CACV,EACCR,EAAO,UACLmB,MAAA,OAAA,CAAK,UAAU,4BAA4B,cAAY,eACrD,SAAAnB,EAAO,QACV,CAAA,CAAA,EAEJ,CAAA,EACF,SAEC,MACC,CAAA,SAAA,CAACmB,EAAA,IAAA,QAAA,CAAM,UAAU,+CAA+C,SAEhE,QAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,QACL,KAAK,QACL,MAAOtB,EAAS,MAChB,SAAUW,EACV,UAAU,0MACV,YAAY,kBACZ,SAAQ,EAAA,CACV,EACCR,EAAO,OACLmB,MAAA,OAAA,CAAK,UAAU,4BAA4B,cAAY,eACrD,SAAAnB,EAAO,KACV,CAAA,CAAA,EAEJ,SAEC,MACC,CAAA,SAAA,CAACmB,EAAA,IAAA,QAAA,CAAM,UAAU,+CAA+C,SAEhE,eAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,WACL,KAAK,WACL,MAAOtB,EAAS,SAChB,SAAUW,EACV,UAAU,0MACV,YAAY,eACZ,SAAQ,EAAA,CACV,EACCR,EAAO,UACLmB,MAAA,OAAA,CAAK,UAAU,4BAA4B,cAAY,eACrD,SAAAnB,EAAO,QACV,CAAA,CAAA,EAEJ,SAEC,MACC,CAAA,SAAA,CAACmB,EAAA,IAAA,QAAA,CAAM,UAAU,+CAA+C,SAEhE,4BAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,WACL,KAAK,kBACL,MAAOtB,EAAS,gBAChB,SAAUW,EACV,UAAU,0MACV,YAAY,4BACZ,SAAQ,EAAA,CACV,CAAA,EACF,SAEC,MACC,CAAA,SAAA,CAACW,EAAA,IAAA,QAAA,CAAM,UAAU,+CAA+C,SAEhE,iBAAA,EACAD,EAAA,KAAC,SAAA,CACC,KAAK,OACL,MAAOrB,EAAS,KAChB,SAAUW,EACV,UAAU,qLACV,SAAQ,GAER,SAAA,CAAAW,MAAC,SAAO,CAAA,MAAM,OAAO,UAAU,yBAAyB,SAAI,OAAA,QAC3D,SAAO,CAAA,MAAM,WAAW,UAAU,yBAAyB,SAAU,aAAA,CAAA,CAAA,CACxE,EACCnB,EAAO,MACLmB,MAAA,OAAA,CAAK,UAAU,4BAA4B,cAAY,eACrD,SAAAnB,EAAO,IACV,CAAA,CAAA,EAEJ,EAEAmB,EAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,kKACX,SAAA,YAAA,CAED,CAAA,EACF,EAEAD,EAAAA,KAAC,MAAI,CAAA,UAAU,mBACb,SAAA,CAACA,EAAAA,KAAA,IAAA,CAAE,UAAU,gBAAgB,SAAA,CAAA,yBACC,IAC5BC,EAAA,IAACC,EAAA,CACC,GAAG,SACH,UAAU,sDACX,SAAA,cAAA,CAED,CAAA,EACF,EACAD,EAAA,IAACC,EAAA,CACC,GAAG,IACH,UAAU,wEACX,SAAA,sBAAA,CAED,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,CAEJ"}