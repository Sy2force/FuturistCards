import{u as x,r as n,j as e,z as d}from"./index-8cd23c11.js";import{u as b}from"./users-7147988b.js";import{L as w}from"./LoadingSpinner-9af0e7b2.js";import{U as u,E as f}from"./UserIcon-f6159de5.js";const y=()=>{const{user:t}=x(),[s,o]=n.useState({firstName:"",lastName:"",email:"",phone:"",newPassword:"",confirmPassword:""}),[m,c]=n.useState(!1);n.useEffect(()=>{t&&o({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||"",newPassword:"",confirmPassword:""})},[t]);const a=l=>{const{name:r,value:i}=l.target;o(p=>({...p,[r]:i}))},h=async l=>{l.preventDefault(),c(!0);try{const r={firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone};if(s.newPassword){if(s.newPassword!==s.confirmPassword){d.error("Les mots de passe ne correspondent pas");return}r.password=s.newPassword}await b.updateProfile(r),d.success("Profil mis à jour avec succès"),o(i=>({...i,newPassword:"",confirmPassword:""}))}catch{d.error("Erreur lors de la mise à jour du profil")}finally{c(!1)}};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Paramètres du Profil"}),e.jsx("p",{className:"text-white/70 text-lg",children:"Gérez vos informations personnelles et préférences"})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-8",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-2",children:[e.jsx(u,{className:"w-4 h-4 inline mr-2"}),"Prénom"]}),e.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all",placeholder:"Votre prénom"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-2",children:[e.jsx(u,{className:"w-4 h-4 inline mr-2"}),"Nom"]}),e.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all",placeholder:"Votre nom"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-2",children:[e.jsx(f,{className:"w-4 h-4 inline mr-2"}),"Email"]}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:a,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all",placeholder:"votre@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:a,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all",placeholder:"Votre numéro de téléphone"})]}),e.jsxs("div",{className:"border-t border-white/20 pt-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Changer le mot de passe"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nouveau mot de passe"}),e.jsx("input",{type:"password",name:"newPassword",value:s.newPassword,onChange:a,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all",placeholder:"Nouveau mot de passe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Confirmer le mot de passe"}),e.jsx("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:a,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all",placeholder:"Confirmer le mot de passe"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:m,className:"px-8 py-3 bg-blue-500/30 hover:bg-blue-500/40 border border-blue-500/50 text-white rounded-xl font-medium transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Mise à jour...":"Sauvegarder les modifications"})})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsx(w,{preset:"page"})})};export{y as default};
//# sourceMappingURL=ProfilePage-cf4971aa.js.map
