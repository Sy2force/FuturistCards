{"version":3,"file":"Login-2d8c3569.js","sources":["../../src/pages/Login.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useAuth } from '../context/AuthContext';\nimport toast from 'react-hot-toast';\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [errors, setErrors] = useState({});\n  const { login, loading } = useAuth();\n  const navigate = useNavigate();\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.email) {\n      newErrors.email = 'Email requis';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Format email invalide';\n    }\n    \n    if (!formData.password) {\n      newErrors.password = 'Mot de passe requis';\n    } else if (formData.password.length < 6) {\n      newErrors.password = 'Minimum 6 caractères';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      toast.error('Veuillez corriger les erreurs');\n      return;\n    }\n    \n    try {\n      await login(formData.email, formData.password);\n      navigate('/');\n    } catch (error) {\n      // console.error('Login error:', error);\n    }\n  };\n\n  return (\n    <motion.div \n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.6 }}\n      className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4\"\n    >\n      <motion.div \n        initial={{ scale: 0.9 }}\n        animate={{ scale: 1 }}\n        transition={{ duration: 0.5, delay: 0.2 }}\n        className=\"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-8 w-full max-w-md shadow-2xl\"\n      >\n        <div className=\"text-center mb-8\">\n          <motion.h1 \n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.3 }}\n            className=\"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 bg-clip-text text-transparent mb-2\"\n          >\n            Login\n          </motion.h1>\n          <p className=\"text-white/70\">Access your FuturistCards account</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\" data-testid=\"login-form\">\n          <div>\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleInputChange}\n              className={`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none transition-all duration-200 ${\n                errors.email \n                  ? 'border-red-400 focus:border-red-400 focus:ring-2 focus:ring-red-400/20' \n                  : 'border-white/20 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20'\n              }`}\n              placeholder=\"votre@email.com\"\n              required\n            />\n            {errors.email && (\n              <motion.p \n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"text-red-400 text-sm mt-1\"\n              >\n                {errors.email}\n              </motion.p>\n            )}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">\n              Mot de passe\n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleInputChange}\n              className={`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none transition-all duration-200 ${\n                errors.password \n                  ? 'border-red-400 focus:border-red-400 focus:ring-2 focus:ring-red-400/20' \n                  : 'border-white/20 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20'\n              }`}\n              placeholder=\"Votre mot de passe\"\n              required\n            />\n            {errors.password && (\n              <motion.p \n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"text-red-400 text-sm mt-1\"\n              >\n                {errors.password}\n              </motion.p>\n            )}\n          </div>\n\n          <motion.button\n            type=\"submit\"\n            disabled={loading}\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            className=\"w-full bg-blue-500/30 hover:bg-blue-500/40 border border-blue-500/50 rounded-lg px-6 py-3 text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\n          >\n            {loading ? (\n              <>\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                Logging in...\n              </>\n            ) : (\n              'Sign In'\n            )}\n          </motion.button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-white/60\">\n            Don't have an account yet?{' '}\n            <Link \n              to=\"/register\" \n              className=\"text-blue-400 hover:text-blue-300 transition-colors\"\n            >\n              Create an account\n            </Link>\n          </p>\n          <Link \n            to=\"/\" \n            className=\"inline-block mt-4 text-white/60 hover:text-white/80 transition-colors\"\n          >\n            ← Back to Home\n          </Link>\n        </div>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default Login;\n"],"names":["Login","formData","setFormData","useState","errors","setErrors","login","loading","useAuth","navigate","useNavigate","validateForm","newErrors","handleInputChange","e","name","value","prev","handleSubmit","toast","jsx","motion","jsxs","Fragment","Link"],"mappings":"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"}