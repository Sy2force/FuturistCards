{"version":3,"file":"ProfilePage-cf4971aa.js","sources":["../../src/pages/ProfilePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { users as usersAPI } from '../api/users';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport toast from 'react-hot-toast';\nimport {\n  UserIcon,\n  EnvelopeIcon,\n  PhoneIcon,\n  MapPinIcon,\n  PencilIcon,\n  CheckIcon,\n  XMarkIcon,\n  CameraIcon\n} from '@heroicons/react/24/outline';\n\nconst ProfilePage = () => {\n  const { user } = useAuth();\n  \n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  \n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        firstName: user.firstName || '',\n        lastName: user.lastName || '',\n        email: user.email || '',\n        phone: user.phone || '',\n        newPassword: '',\n        confirmPassword: ''\n      });\n    }\n  }, [user]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const updateData = {\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        email: formData.email,\n        phone: formData.phone\n      };\n\n      if (formData.newPassword) {\n        if (formData.newPassword !== formData.confirmPassword) {\n          toast.error('Les mots de passe ne correspondent pas');\n          return;\n        }\n        updateData.password = formData.newPassword;\n      }\n\n      await usersAPI.updateProfile(updateData);\n      toast.success('Profil mis à jour avec succès');\n      \n      setFormData(prev => ({\n        ...prev,\n        newPassword: '',\n        confirmPassword: ''\n      }));\n    } catch (error) {\n      toast.error('Erreur lors de la mise à jour du profil');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\">\n        <LoadingSpinner preset=\"page\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-8 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-4\">\n            Paramètres du Profil\n          </h1>\n          <p className=\"text-white/70 text-lg\">\n            Gérez vos informations personnelles et préférences\n          </p>\n        </div>\n\n        <div className=\"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-8\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-white/80 mb-2\">\n                  <UserIcon className=\"w-4 h-4 inline mr-2\" />\n                  Prénom\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"firstName\"\n                  value={formData.firstName}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all\"\n                  placeholder=\"Votre prénom\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-white/80 mb-2\">\n                  <UserIcon className=\"w-4 h-4 inline mr-2\" />\n                  Nom\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"lastName\"\n                  value={formData.lastName}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all\"\n                  placeholder=\"Votre nom\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-white/80 mb-2\">\n                <EnvelopeIcon className=\"w-4 h-4 inline mr-2\" />\n                Email\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all\"\n                placeholder=\"votre@email.com\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-white/80 mb-2\">\n                Téléphone\n              </label>\n              <input\n                type=\"tel\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all\"\n                placeholder=\"Votre numéro de téléphone\"\n              />\n            </div>\n\n            <div className=\"border-t border-white/20 pt-6\">\n              <h3 className=\"text-xl font-semibold text-white mb-4\">Changer le mot de passe</h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-white/80 mb-2\">\n                    Nouveau mot de passe\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"newPassword\"\n                    value={formData.newPassword}\n                    onChange={handleInputChange}\n                    className=\"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all\"\n                    placeholder=\"Nouveau mot de passe\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-white/80 mb-2\">\n                    Confirmer le mot de passe\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"confirmPassword\"\n                    value={formData.confirmPassword}\n                    onChange={handleInputChange}\n                    className=\"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all\"\n                    placeholder=\"Confirmer le mot de passe\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end\">\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"px-8 py-3 bg-blue-500/30 hover:bg-blue-500/40 border border-blue-500/50 text-white rounded-xl font-medium transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {isLoading ? 'Mise à jour...' : 'Sauvegarder les modifications'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage;\n"],"names":["ProfilePage","user","useAuth","formData","setFormData","useState","isLoading","setIsLoading","useEffect","handleInputChange","e","name","value","prev","handleSubmit","updateData","toast","usersAPI","jsxs","jsx","UserIcon","EnvelopeIcon","LoadingSpinner"],"mappings":"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"}