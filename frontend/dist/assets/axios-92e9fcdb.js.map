{"version":3,"file":"axios-92e9fcdb.js","sources":["../../src/api/axios.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor to add auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle auth errors\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// User profile API endpoints\nexport const userAPI = {\n  // Get current user profile\n  getProfile: () => api.get('/users/me'),\n  \n  // Update user profile and preferences\n  updateProfile: (data) => api.put('/users/me', data),\n  \n  // Delete user account\n  deleteAccount: () => api.delete('/users/me')\n};\n\n// Auth API endpoints\nexport const authAPI = {\n  login: (credentials) => api.post('/auth/login', credentials),\n  register: (userData) => api.post('/auth/register', userData),\n  refreshToken: () => api.post('/auth/refresh'),\n  logout: () => api.post('/auth/logout')\n};\n\n// Cards API endpoints\nexport const cardsAPI = {\n  getAll: (params) => api.get('/cards', { params }),\n  getById: (id) => api.get(`/cards/${id}`),\n  create: (cardData) => api.post('/cards', cardData),\n  update: (id, cardData) => api.put(`/cards/${id}`, cardData),\n  delete: (id) => api.delete(`/cards/${id}`),\n  getMyCards: () => api.get('/cards/my-cards')\n};\n\n// Favorites API endpoints\nexport const favoritesAPI = {\n  getAll: () => api.get('/favorites'),\n  add: (cardId) => api.post('/favorites', { cardId }),\n  remove: (cardId) => api.delete(`/favorites/${cardId}`)\n};\n\nexport default api;\n"],"names":["API_URL","api","axios","config","token","error","response","_a"],"mappings":"wCAEA,MAAMA,EAAU,kCAGVC,EAAMC,EAAM,OAAO,CACvB,QAASF,EACT,QAAS,CACP,eAAgB,kBACjB,CACH,CAAC,EAGDC,EAAI,aAAa,QAAQ,IACtBE,GAAW,CACV,MAAMC,EAAQ,aAAa,QAAQ,OAAO,EAC1C,OAAIA,IACFD,EAAO,QAAQ,cAAgB,UAAUC,CAAK,IAEzCD,CACR,EACAE,GACQ,QAAQ,OAAOA,CAAK,CAE/B,EAGAJ,EAAI,aAAa,SAAS,IACvBK,GACQA,EAERD,GAAU,OACT,QAAIE,EAAAF,EAAM,WAAN,YAAAE,EAAgB,UAAW,MAE7B,aAAa,WAAW,OAAO,EAC/B,aAAa,WAAW,MAAM,EAC9B,OAAO,SAAS,KAAO,UAElB,QAAQ,OAAOF,CAAK,CAC5B,CACH"}